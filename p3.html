<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
    <div id="contenedor">


        <form>
            <fieldset>
            <legend>
                Acceso al panel
            </legend>
            
            <label>Correo electronico</label>
            <input type="email" v-model="email">
            
            <label>Password</label>
            <input type="password" v-model="password">
            <button @click ="login">Acceder</button>
            
            </fieldset>
            
        </form>


    </div>
    <script type="text/javascript">

        const { createApp } = Vue
        const data=null
        const error=null

        var test = createApp({
        data() {
            return {
                users:null,
                email:'',
                password:''
            }
        },methods:{
            login(e){
                 e.preventDefault();

                 var email_usuario = this.email;
                 var contra = this.password;

                 console.log(this.users);
                 console.log(this.email);
                 var access = this.users.map(function(u){
                    if(email_usuario.toLowerCase()=== u.email.toLowerCase()){
                        if(contra=== u.password){
                            alert("acceso correcto")
                            window.location= "tabla.html"
                        }
                            
                    }
                 })
                console.log(access)
            }

        },mounted(){
            fetch('users.json')
            .then((res) => res.json())
            .then((json) => (this.users=json))
            .catch((err) => (console.log(err)))
        }
        

        
        }).mount('#contenedor')

    </script>
</body>
</html>